{% extends 'registration/base.html' %}

{% block title %}Bidding Dashboard{% endblock %}

{% block extra_styles %}
    /* You can add specific styles for this page if needed */
    .job-card { background-color: #fff; border: 1px solid #e9ecef; border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 1.5rem; }
    .job-card .badge { font-size: 0.9em; }
{% endblock %}

{% block content %}
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="page-title mb-0">Jobs Open for Bidding</h2>
        <button class="btn btn-primary"><i class="fas fa-plus me-2"></i>Create New Job for Bidding</button>
    </div>

    {% for job in bidding_jobs %}
    <div class="job-card">
        <div class="row align-items-center">
            <div class="col-md-6">
                <h5 class="fw-bold">{{ job.title }}</h5>
                <p class="text-muted mb-1"><i class="fas fa-map-marker-alt me-2"></i>{{ job.location }}</p>
                <p class="mb-0 small">
                    <span class="me-3"><i class="far fa-calendar-alt me-1"></i> {{ job.duration_days }} days</span>
                    <span><i class="fas fa-users me-1"></i> {{ job.workers_needed }} workers</span>
                </p>
            </div>
            <div class="col-md-3 text-md-center mt-3 mt-md-0">
                <h6 class="text-muted small mb-0">Asking Price</h6>
                <h4 class="fw-bold text-danger">â‚¹{{ job.initial_price }}/day</h4>
            </div>
            <div class="col-md-3 text-md-end mt-3 mt-md-0">
                <span class="badge rounded-pill bg-success mb-2">{{ job.bids|length }} Bids Received</span>
                <a href="{% url 'registration:view_bids' job.id %}" class="btn btn-primary w-100">View Bids</a>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="alert alert-info text-center p-4">There are no jobs currently open for bidding.</div>
    {% endfor %}
{% endblock %}