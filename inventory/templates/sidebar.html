{% load static %}
<style>
    .sidebar-items {
        display: flex;
        flex-direction: column;
        gap: 10px;
        /* --- ADD THESE TWO LINES --- */
    flex-grow: 1;        /* Make this div fill the available vertical space */
    overflow-y: auto;
    -ms-overflow-style: none;  /* Hides scrollbar for IE and Edge */
    scrollbar-width: none;     /* Hides scrollbar for Firefox */
}

/* Hides scrollbar for Chrome, Safari, and Opera */
.sidebar-items::-webkit-scrollbar {
    display: none;
}

    :root {
        --primary-color: #3A5A40;
        --secondary-color: #d8e8c2;
        --success-color: #28a745;
        --warning-color: #ffc107;
        --danger-color: #dc3545;
        --sidebar-width: 96px;
        --whatsapp-sidebar-width: 250px;
    }
</style>
<aside class="sidebar">
    <div class="sidebar-items">
        <a href="{% url 'order_dashboards' %}" class="text-decoration-none text-white">
            <div class="sidebar-item {% if request.resolver_match.url_name == 'DashboardView' %}active{% endif %}">
                <i class="fas fa-home"></i>
                <span>order</span>
            </div>
        </a>
        
        <a href="{% url 'dashboard' %}" class="text-decoration-none text-white">
            <div class="sidebar-item {% if request.resolver_match.url_name == 'search_page' %}active{% endif %}">
                <i class="fas fa-search"></i>
                <span>summary</span>
            </div>
        </a>
         <!-- NEW: Inventory Menu Item -->
        <a href="{% url 'inventory_list' %}" class="text-decoration-none text-white">
            <div class="sidebar-item {% if 'inventory' in request.path %}active{% endif %}">
                <i class="fas fa-boxes"></i>
                <span>Inventory</span>
            </div>
        </a>

        <!-- Farmers Menu Item -->
<a href="{% url 'farmer_list' %}" class="text-decoration-none text-white">
    <div class="sidebar-item {% if 'farmer' in request.path and 'task' not in request.path %}active{% endif %}">
        <i class="fas fa-user-friends"></i>
        <span>
            {% if current_language == 'mr' %}शेतकरी{% else %}Farmers{% endif %}
        </span>
    </div>
</a>

<!-- Tasks Menu Item -->
<a href="{% url 'task_status_list' %}" class="text-decoration-none text-white">
    <div class="sidebar-item {% if 'task' in request.path %}active{% endif %}">
        <i class="fas fa-tasks"></i>
        <span>
            {% if current_language == 'mr' %}कार्ये{% else %}Tasks{% endif %}
        </span>
    </div>
</a>

<!-- Recommendations Menu Item -->
<a href="{% url 'product_recommendations' %}" class="text-decoration-none text-white">
    <div class="sidebar-item {% if 'recommendation' in request.path %}active{% endif %}">
        <i class="fas fa-lightbulb"></i>
        <span>
            {% if current_language == 'mr' %}शिफारसी{% else %}Recommendations{% endif %}
        </span>
    </div>
</a>

<!-- Crop Cycles Menu Item -->
<a href="{% url 'crop_cycle_list' %}" class="text-decoration-none text-white">
    <div class="sidebar-item {% if 'crop-cycle' in request.path or 'cycle' in request.path %}active{% endif %}">
        <i class="fas fa-sync-alt"></i>
        <span>
            {% if current_language == 'mr' %}पीक चक्र{% else %}Crop Cycles{% endif %}
        </span>
    </div>
</a>

       
        <!-- WhatsApp Toggle Button -->
        <a href="{% url 'calendar_view' %}" class="text-decoration-none text-white" id="whatsapp-toggle">
            <div class="sidebar-item whatsapp-item {% if 'whatsapp' in request.path or 'template' in request.path %}active{% endif %}">
                <i class="fab fa-whatsapp"></i>
                <span>Calender</span>
            </div>
        </a>
        <a href="http://localhost:5173/ai-flow-generator" class="text-decoration-none text-white">
            <div class="sidebar-item {% if request.resolver_match.url_name == 'ivr_page' %}active{% endif %}">
                <i class="fas fa-phone"></i>
                <span>AI </span>
            </div>
        </a>
         <a href="{% url 'inventory_list' %}" class="text-decoration-none text-white">
            <div class="sidebar-item {% if request.resolver_match.url_name == 'schedule' %}active{% endif %}">
                <i class="fa fa-calendar-check"></i>
                <span>Schedule</span>
            </div>
        </a>
        <a href="{% url 'inventory_list' %}" class="text-decoration-none text-white">
            <div class="sidebar-item {% if request.resolver_match.url_name == 'actionables_list' %}active{% endif %}">
                <i class="fa-solid fa-location-arrow"></i>
                <span>Actions</span>
            </div>
        </a>
        <a href="{% url 'inventory_list' %}" class="text-decoration-none text-white">
            <div class="sidebar-item {% if request.resolver_match.url_name == 'dial_pad' %}active{% endif %}">
                <image src="https://img.icons8.com/?size=25&id=AX0e5jWa8Bdl&format=png&color=FFFFFF">
                <span>Dial Pad</span>
            </div>
        </a>
        
</aside>


<!-- WhatsApp Sidebar -->
<aside class="whatsapp-sidebar" id="whatsapp-sidebar">
    <div class="whatsapp-header">
        <button class="back-arrow" id="close-whatsapp-sidebar">
            <i class="fas fa-chevron-left"></i>
        </button>
        <span>Whatsapp</span>
    </div>
    <div class="whatsapp-menu">
       
        <a href="{% url 'inventory_list' %}" class="whatsapp-menu-link">
            <div class="whatsapp-menu-item {% if 'chat_message' in request.path %}active{% endif %}">
                <span>Chat</span>
            </div>
        </a>
        <a href="{% url 'inventory_list' %}" class="whatsapp-menu-link">
            <div class="whatsapp-menu-item {% if 'campaign_page' in request.path or 'groups' in request.path %}active{% endif %}">
                <span>Campaign</span>
            </div>
        </a>
        <a href="{% url 'inventory_list' %}" class="whatsapp-menu-link">
            <div class="whatsapp-menu-item {% if 'analytics' in request.path %}active{% endif %}">
                <span>Analytics</span>
            </div>
        </a>
        <a href="{% url 'inventory_list' %}" class="whatsapp-menu-link">
            <div class="whatsapp-menu-item {% if 'template_flows' in request.path %}active{% endif %}">
                <span>Flow Builder</span>
            </div>
        </a>
        <a href="{% url 'inventory_list' %}" class="whatsapp-menu-link">
            <div class="whatsapp-menu-item {% if 'templates' in request.path %}active{% endif %}">
                <span>Template</span>
            </div>
        </a>
    </div>
</aside>

<!-- Overlay for mobile -->
<div class="whatsapp-overlay" id="whatsapp-overlay"></div>
